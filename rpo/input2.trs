f(a(x, y), g(x, y), a(x, g(z, u))) -> f(a(x, z), y, g(g(g(y, x), x), x))